局部变量与全局变量

根据C语言的说法，局部变量：定义在方法内部的变量叫局部变量；全局变量：定义在方法外部的变量叫全局变量。局部变量和全局变量的主要区别在于二者的生存周期不同。

全局变量的生存周期：静态分配内存，程序运行期间常驻内存，直到程序运行结束。

局部变量的生存周期：动态分配内存，位于线程堆栈中。

另外全局变量和局部变量的作用域不同，举例来说，类中的变量作用域在当前类中，类方法中的变量作用域在当前方法中。

全局变量的使用场景：多个地方需要使用，大家共享。

局部变量的使用场景：只在当前这个地方使用。

 在项目开发中，尽量少使用全局变量（准确地说，应该是尽量缩小变量的作用域）。为什么尽量少使用全局变量？

首先，不符合高内聚、低耦合的原则，维护困难。举例来说：全局变量相当于公家的东西，好处是大家都可以很方便的使用，坏处是大家都可以随便使用，会引起冲突，你用的时候也不知道别人做了什么手脚（不符合函数式编程原则），因此很难管理。

其次，使用全局变量不符合延迟加载的原则，延迟加载说的是，等到真正用到的时候，再加载相应的东西到内存中。而使用全局变量相当于一开始，就把所有需要的东西加载进来。举例来说：我们出去旅游，没有必要带上所有的东西吧，比如米饭，我们可以在旅游地买米饭吃。

但是，尽量少用，并不意味着不用，有些时候必须要用。还是上面出去旅游的例子，旅游过程中，你的钱包要始终带着，因为到处需要钱，这就是全局。